---
title: MCP Tools
---

MCP (Model Context Protocol) tools allow your agent to connect to external MCP servers and use their tools. This enables your agent to interact with various services and resources through standardized MCP tool interfaces.

## Connecting to an MCP Server

To use MCP tools, you first need to connect to an MCP server using the `tools.NewMCPServer` function. The server should expose an SSE (Server-Sent Events) endpoint:

```go
import (
    "context"
    "github.com/praveen001/uno/pkg/agent-framework/tools"
)

mcpClient, err := tools.NewMCPServer(
    context.Background(),
    "http://localhost:9001/sse",  // MCP server SSE endpoint
    nil,                          // Optional headers map[string]string
)
if err != nil {
    log.Fatal(err)
}
```

### Parameters

- **`ctx`**: The context for the connection
- **`endpoint`**: The SSE endpoint URL of the MCP server (e.g., `"http://localhost:9001/sse"`)
- **`headers`**: Optional HTTP headers to include in requests (can be `nil`)

## Using MCP Tools with an Agent

Once connected, you can retrieve the available tools from the MCP server and pass them to your agent:

```go
agent := client.NewAgent(&sdk.AgentOptions{
    Name:        "Hello world agent",
    Instruction: client.Prompt("You are helpful assistant."),
    LLM:         model,
    History:     history,
    Tools:       mcpClient.GetTools(),  // Get all available MCP tools
})
```

### Filtering Tools

You can optionally filter which tools to use by passing tool names to `GetTools()`:

```go
// Only use specific tools
Tools: mcpClient.GetTools("tool_name_1", "tool_name_2"),
```

## Complete Example

Here's a complete example of an agent using MCP tools:

```go
package main

import (
    "context"
    "fmt"
    "log"

    "github.com/bytedance/sonic"
    "github.com/google/uuid"
    "github.com/praveen001/uno/pkg/agent-framework/agents"
    "github.com/praveen001/uno/pkg/agent-framework/core"
    "github.com/praveen001/uno/pkg/agent-framework/tools"
    "github.com/praveen001/uno/pkg/llm"
    "github.com/praveen001/uno/pkg/llm/responses"
    "github.com/praveen001/uno/pkg/sdk"
)

func main() {
    // Initialize SDK client
    client, err := sdk.New(&sdk.ClientOptions{
        LLMConfigs: sdk.NewInMemoryConfigStore([]*sdk.ProviderConfig{
            {
                ProviderName:  llm.ProviderNameOpenAI,
                BaseURL:       "",
                CustomHeaders: nil,
                Keys: []*sdk.ProviderKey{
                    {
                        Name: "Key 1",
                        Key:  "",
                    },
                },
            },
        }),
    })
    if err != nil {
        log.Fatal(err)
    }

    // Create LLM model
    model := client.NewLLM(sdk.LLMOptions{
        Provider: llm.ProviderNameOpenAI,
        Model:    "gpt-4o-mini",
    })

    // Create conversation history
    history := client.NewConversationManager("default", uuid.NewString(), "")

    // Connect to MCP server
    mcpClient, err := tools.NewMCPServer(context.Background(), "http://localhost:9001/sse", nil)
    if err != nil {
        log.Fatal(err)
    }

    // Create agent with MCP tools
    agent := client.NewAgent(&sdk.AgentOptions{
        Name:        "Hello world agent",
        Instruction: client.Prompt("You are helpful assistant."),
        LLM:         model,
        History:     history,
        Tools:       mcpClient.GetTools(),
    })

    // Execute agent
    out, err := agent.Execute(context.Background(), []responses.InputMessageUnion{
        responses.UserMessage("Hello!"),
    }, core.NilCallback)
    if err != nil {
        log.Fatal(err)
    }

    b, _ := sonic.Marshal(out)
    fmt.Println(string(b))
}
```

## Notes

- The MCP server must be running and accessible at the specified endpoint before creating the client
- The connection is established when `NewMCPServer` is called, and tools are automatically discovered
- MCP tools are executed by the agent automatically when needed based on the conversation context
- You can combine MCP tools with custom tools by including both in the `Tools` slice
