---
title: Conversation History
---

Agents with conversation history can remember previous interactions and maintain context across multiple turns. This enables natural, context-aware conversations where the agent can reference earlier messages and build upon previous exchanges.

## Overview

When you provide a conversation history manager to an agent, it:
- **Loads Previous Messages**: Automatically loads conversation history based on the previous message ID
- **Saves Automatically**: Saves new messages after each execution
- **Supports Threading**: Organizes messages into conversations and threads

## Basic Example

Here's a simple example of an agent with conversation history:

```go
// Create conversation manager
messageID := uuid.NewString()
history := client.NewConversationManager("user-session-123", uuid.NewString(), "")

// Create agent with history
agent := client.NewAgent(&agents.AgentOptions{
    Name:        "Chat Assistant",
    Instruction: "You are a helpful assistant.",
    LLM:         client.NewLLM(sdk.LLMOptions{
        Provider: llm.ProviderNameOpenAI,
        Model:    "gpt-4o-mini",
    }),
    History:     history,
})

// First agent run
resp1, err := agent.Execute(context.Background(), []responses.InputMessageUnion{
    responses.UserMessage("My name is Alice"),
}, core.NilCallback)
if err != nil {
    log.Fatal(err)
}

fmt.Println("Response 1:", resp1[0].OfOutputMessage.Content[0].OfOutputText.Text)

agent2 := client.NewAgent(&agents.AgentOptions{
    Name:        "Chat Assistant",
    Instruction: "You are a helpful assistant.",
    LLM:         model,
    History:     history,
})

resp2, err := agent2.Execute(context.Background(), []responses.InputMessageUnion{
    responses.UserMessage("What's my name?"),
}, core.NilCallback)
if err != nil {
    log.Fatal(err)
}

// The agent remembers that the user's name is Alice
fmt.Println("Response 2:", resp2[0].OfOutputMessage.Content[0].OfOutputText.Text)
```